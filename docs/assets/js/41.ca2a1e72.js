(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{314:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"编码风格"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编码风格"}},[t._v("#")]),t._v(" 编码风格")]),t._v(" "),s("p",[t._v("这份文档仅供统一项目编码风格")]),t._v(" "),s("h4",{attrs:{id:"基本概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本概念"}},[t._v("#")]),t._v(" 基本概念")]),t._v(" "),s("p",[s("strong",[t._v("实体（Entities）")]),t._v("，实体用于封装企业范围的业务规则。实体可以是拥有方法的对象，也可以是数据结构和函数的集合。如果没有企业，只是单个应用，那么实体就是应用里的业务对象。这些对象封装了最通用和高层的业务规则，极少会受到外部变化的影响。任何操作层面的改动都不会影响到这一层。"),s("br"),t._v(" "),s("strong",[t._v("用例（Use Cases）")]),t._v("，用例是特定于应用的业务逻辑，一般用来完成用户的某个操作。用例协调数据流向或者流出实体层，并且在此过程中通过执行实体的业务规则来达成用例的目标。用例层的改动不会影响到内部的实体层，同时也不会受外层的改动影响，比如数据库、UI 和框架的变动。只有而且应当应用的操作发生变化的时候，用例层的代码才随之修改。"),s("br"),t._v(" "),s("strong",[t._v("接口适配器（Interface Adapters）")]),t._v(" ，接口适配器层的主要作用是转换数据，数据从最适合内部用例层和实体层的结构转换成适合外层（比如数据持久化框架）的结构。反之，来自于外部服务的数据也会在这层转换为内层需要的结构。")]),t._v(" "),s("h4",{attrs:{id:"目录即分层的具体实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录即分层的具体实践"}},[t._v("#")]),t._v(" 目录即分层的具体实践")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://github.com/nibilin33/frontend-blog/raw/master/press/guide/img/%E7%9B%AE%E5%BD%95%E5%8D%B3%E5%88%86%E5%B1%82.png",alt:"目录即分层的具体实践"}})]),t._v(" "),s("blockquote",[s("p",[t._v("---- example"),s("br"),t._v("\n---- mock"),s("br"),t._v("\n---- public"),s("br"),t._v("\n---- src")]),t._v(" "),s("blockquote",[s("p",[t._v("---- api"),s("br"),t._v("\n---- assets"),s("br"),t._v("\n---- components"),s("br"),t._v("\n---- directives"),s("br"),t._v("\n---- i18n"),s("br"),t._v("\n---- lib"),s("br"),t._v("\n---- router"),s("br"),t._v("\n---- store"),s("br"),t._v("\n---- utils"),s("br"),t._v("\n---- views")]),t._v(" "),s("blockquote",[s("p",[t._v("---- login"),s("br"),t._v("\n---- __tests__"),s("br"),t._v("\n---- adapters"),s("br"),t._v("\n---- entity"),s("br"),t._v("\n---- interface"),s("br"),t._v("\nindex.vue")])])])]),t._v(" "),s("ul",[s("li",[t._v("具体业务包含自己的适配器,实体,单元测试的目录")]),t._v(" "),s("li",[t._v("实体的目录包含简单的数据模型，核心的业务逻辑")]),t._v(" "),s("li",[t._v("适配器做一些数据的转换")]),t._v(" "),s("li",[t._v(".vue 做为用例层，编写用户行为的一些方法，其余的都只负责调用ts文件的方法。"),s("br"),t._v("\n这边与TS的整合，.vue 文件不使用vue-class-component来达到class的写法，保留之前的写法。"),s("br"),t._v("\n因为这种写法本身觉得绕了很多弯，是2.x为TS的支持补丁方式.目前来说，ts + vue 当然可用，"),s("br"),t._v("\n但是依然相当多的问题，没法如丝般顺滑的相互配合。尤大大他们完全打算通过 vue3 去彻底解决于 ts 共用的的问题，"),s("br"),t._v("\n不打算优化一下 2.x 当前存在的问题，那当下来说，vue文件我就不是很想用。(vue-class-component.js 通过gzip 有3.8KB，\n源文件大小 11KB。vue-property-decorator.js 通过gzip 有2.4KB ，源文件大小9KB)（3.0兼容性到IE11。废弃支持class）")])]),t._v(" "),s("p",[t._v(".vue文件lang=ts未解决的问题？"),s("br"),t._v('\njsx  Duplicate declaration "h"'),s("br"),t._v("\n其他 any/@ts-ignore")]),t._v(" "),s("h4",{attrs:{id:"文件名文件结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件名文件结构"}},[t._v("#")]),t._v(" 文件名文件结构")]),t._v(" "),s("p",[t._v("1.文件名全部为小写或包含-"),s("br"),t._v("\n2.单文件组件的顶级元素的顺序 template,script,style"),s("br"),t._v("\n3.有需要的生命周期按照被调用的顺序书写")]),t._v(" "),s("ul",[s("li",[t._v("beforeCreate")]),t._v(" "),s("li",[t._v("created")]),t._v(" "),s("li",[t._v("beforeMount")]),t._v(" "),s("li",[t._v("mounted")]),t._v(" "),s("li",[t._v("beforeUpdate")]),t._v(" "),s("li",[t._v("updated")]),t._v(" "),s("li",[t._v("activated")]),t._v(" "),s("li",[t._v("deactivated")]),t._v(" "),s("li",[t._v("beforeDestroy")]),t._v(" "),s("li",[t._v("destroyed")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<template>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n    };\n  },\n  watch: {\n  },\n  created() {\n  },\n  beforeDestroy() {\n  },\n  methods: {\n  }\n};\n<\/script>\n<style lang="scss">\n</style>\n')])])]),s("h4",{attrs:{id:"命名规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命名规则"}},[t._v("#")]),t._v(" 命名规则")]),t._v(" "),s("ul",[s("li",[t._v("css 采用 BEM 命名规则"),s("br"),t._v("\neg："),s("br"),t._v("\n.listCard 块，高层次组件"),s("br"),t._v("\n.listCard__title 元素"),s("br"),t._v("\n.listCard--feature 修饰符，表示不同状态"),s("br"),t._v("\n在选择器中，由以下三种符号来表示扩展的关系")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("-   中划线 ：仅作为连字符使用，表示某个块或者某个子元素的多单词之间的连接记号。 \n__  双下划线：双下划线用来连接块和块的子元素    \n_   单下划线：单下划线用来描述一个块或者块的子元素的一种状态    \n")])])]),s("h5",{attrs:{id:"块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#块"}},[t._v("#")]),t._v(" 块")]),t._v(" "),s("p",[t._v("一个块是设计或布局的一部分，它有具体且唯一地意义 ，要么是语义上的要么是视觉上的。"),s("br"),t._v("\n在大多数情况下，任何独立的页面元素（或复杂或简单）都可以被视作一个块。"),s("br"),t._v("\n它的HTML容器会有一个唯一的CSS类名，也就是这个块的名字。\n针对块的CSS类名会加一些前缀（ ui-），这些前缀在CSS中有类似 命名空间 的作用。")]),t._v(" "),s("h5",{attrs:{id:"元素"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#元素"}},[t._v("#")]),t._v(" 元素")]),t._v(" "),s("p",[t._v("块中的子元素是块的子元素，并且子元素的子元素在 bem 里也被认为是块的直接子元素。\n一个块中元素的类名必须用父级块的名称作为前缀。")]),t._v(" "),s("h5",{attrs:{id:"修饰符"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修饰符"}},[t._v("#")]),t._v(" 修饰符")]),t._v(" "),s("p",[t._v("一个“修饰符”可以理解为一个块的特定状态，标识着它持有一个特定的属性。"),s("br"),t._v("\n用一个例子来解释最好不过了。一个表示按钮的块默认有三个大小：小，中，大。"),s("br"),t._v("\n为了避免创建三个不同的块，最好是在块上加修饰符。"),s("br"),t._v("\n这个修饰符应该有个名字（比如：size ）和值（ small，normal 或者 big ）。")]),t._v(" "),s("h4",{attrs:{id:"css-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-module"}},[t._v("#")]),t._v(" CSS Module")]),t._v(" "),s("p",[t._v("vue.config.js")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("    css: {\n        modules: true,\n    },\n")])])]),s("p",[t._v("开启了css module 配置，可以这么使用")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("<style lang=\"scss\" module scoped>\n.meeting-layout{\n  font-size:24px;\n  color: red;\n}\n</style>\nscript 中   \nthis.$style['meeting-layout']   \ntemplate 中   \n$style['meeting-layout']    \n")])])]),s("p",[t._v("在.tsx 文件中使用，需要先全局定义")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('declare module "*.scss" {\n  const content: any;\n  export default content;\n}\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('import css from "./button.scss";\nrender() {\n    return (\n      <div class={css.button}>\n      </div>\n    );\n  }\n')])])]),s("ul",[s("li",[t._v("script 采用驼峰"),s("br"),t._v("\n类的命名:首字母必须采用大写的形式"),s("br"),t._v("\n变量的命名：首字母小写")])]),t._v(" "),s("h4",{attrs:{id:"样式变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#样式变量"}},[t._v("#")]),t._v(" 样式变量")]),t._v(" "),s("p",[t._v("样式中有需要颜色的地方，统一定义到body下面。"),s("br"),t._v("\n给多彩提供脚本直接在当前替换能力。"),s("br"),t._v("\n兼容性问题：css-vars-ponyfill")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("document.body.style.setProperty('--bgColor','red'); \n")])])]),s("p",[t._v("eg ："),s("br"),t._v("\nbody{\n--bgColor: blue;\n}"),s("br"),t._v("\n使用:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<style lang="scss" scoped>\n.title{\n  color:var(--bgColor);\n}\n</style>\n')])])]),s("h4",{attrs:{id:"注释"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注释"}},[t._v("#")]),t._v(" 注释")]),t._v(" "),s("p",[t._v("尽量利用函数名称，参数或者返回值自身就足够传达信息。"),s("br"),t._v("\n短函数不需要太多描述，为只做一件事的短函数选个好名字，比写函数头注释要好。"),s("br"),t._v(" "),s("strong",[t._v("好注释")]),s("br"),t._v("\n1.对意图解释的注释"),s("br"),t._v("\n2.用于警告其他程序员会出现某种后果的注释"),s("br"),t._v("\n3.TODO 注释"),s("br"),t._v(" "),s("strong",[t._v("写注释的常见动机之一是糟糕代码的存在，与其花时间编写解释你搞出的")]),s("br"),t._v(" "),s("strong",[t._v("糟糕的代码的注释，不如花时间清洁代码。如果编程语言足够有表达里，就不那么需要注释")]),s("br"),t._v("\neg:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// Async edge case fix requires storing an event listener's attach timestamp.\nlet _getNow: () => number = Date.now\n这段代码第一反应让人觉得没有必要，但加了上面的解释，达到认同。  \n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("这段代码从命名完全看不出想做什么，为什么这么做，作者的解释，让阅读代码者更快地理解。    \nfunction createInvoker(\n  initialValue: any,\n  instance: ComponentInternalInstance | null\n) {\n  const invoker: Invoker = (e: Event) => {\n    // async edge case #6566: inner click event triggers patch, event handler\n    // attached to outer element during patch, and triggered again. This\n    // happens because browsers fire microtask ticks between event propagation.\n    // the solution is simple: we save the timestamp when a handler is attached,\n    // and the handler would only fire if the event passed to it was fired\n    // AFTER it was attached.\n    if (e.timeStamp >= invoker.lastUpdated - 1) {\n      const args = [e]\n      const value = invoker.value\n      if (isArray(value)) {\n        for (let i = 0; i < value.length; i++) {\n          callWithAsyncErrorHandling(\n            value[i],\n            instance,\n            ErrorCodes.NATIVE_EVENT_HANDLER,\n            args\n          )\n        }\n      } else {\n        callWithAsyncErrorHandling(\n          value,\n          instance,\n          ErrorCodes.NATIVE_EVENT_HANDLER,\n          args\n        )\n      }\n    }\n  }\n  invoker.value = initialValue\n  initialValue.invoker = invoker\n  invoker.lastUpdated = getNow()\n  return invoker\n}\n")])])]),s("h4",{attrs:{id:"函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[t._v("#")]),t._v(" 函数")]),t._v(" "),s("p",[t._v("函数的第一个规则是要短小，第二条规则是只做一件事。")]),t._v(" "),s("h4",{attrs:{id:"项目-readme"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目-readme"}},[t._v("#")]),t._v(" 项目 README")]),t._v(" "),s("ul",[s("li",[t._v("运行命令")]),t._v(" "),s("li",[t._v("线上的示例或者最后的运行环境")]),t._v(" "),s("li",[t._v("相关的文档链接")]),t._v(" "),s("li",[t._v("相关人员的联系方式或群")]),t._v(" "),s("li",[t._v("代码组织结构图")])]),t._v(" "),s("h2",{attrs:{id:"开发前可考虑的事情"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发前可考虑的事情"}},[t._v("#")]),t._v(" 开发前可考虑的事情")]),t._v(" "),s("ul",[s("li",[t._v("是否满足最小复杂度")]),t._v(" "),s("li",[t._v("设计时为维护工作的程序员考虑")]),t._v(" "),s("li",[t._v("信息隐藏： 这类，方法，组件该隐藏什么")]),t._v(" "),s("li",[t._v("找出容易改变的区域做划分")]),t._v(" "),s("li",[t._v("考虑潜在的变化，让这些变化的影响或范围与发生该变化的可能性成比")]),t._v(" "),s("li",[t._v("如何便于测试")]),t._v(" "),s("li",[t._v("层次性： 比如当需要调用设计不佳的旧代码的时候，就要编写一层同旧"),s("br"),t._v("\n代码交互的一层，这一层要隐藏代码的低劣质量，同时提供一组一致的服务。")]),t._v(" "),s("li",[t._v("参考常用的设计模式形成类似的解决方案")])]),t._v(" "),s("h2",{attrs:{id:"oop的设计步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#oop的设计步骤"}},[t._v("#")]),t._v(" OOP的设计步骤")]),t._v(" "),s("ul",[s("li",[t._v("辨识对象及其属性（方法和数据）")]),t._v(" "),s("li",[t._v("确定可以对各个对象进行的操作")]),t._v(" "),s("li",[t._v("确定各个对象能对其他对象进行的操作")]),t._v(" "),s("li",[t._v("确定对象的哪些部分对其他对象可见，哪些部分而已是public，哪些是private")]),t._v(" "),s("li",[t._v("定义每个对象的公开接口,即向其他对象暴露的数据及方法")])]),t._v(" "),s("h2",{attrs:{id:"测试驱动开发的具体实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#测试驱动开发的具体实践"}},[t._v("#")]),t._v(" 测试驱动开发的具体实践")]),t._v(" "),s("ul",[s("li",[t._v("1.先编写伪代码，只有方法名以及流程")]),t._v(" "),s("li",[t._v("2.编写测试用例，描述功能点")]),t._v(" "),s("li",[t._v("3.交叉编写模块测试用例")]),t._v(" "),s("li",[t._v("4.具体逻辑开发"),s("br"),t._v("\n先编写测试，我们就能设身处地从代码使用者的角度考虑问题。"),s("br"),t._v("\n这种方式确保我们设计的每一个函数都由一系列测试驱动。"),s("br"),t._v("\n编写验证可考虑的类型：")]),t._v(" "),s("li",[t._v("正向测试： 当前置条件满足时，验证代码的结果确实符合预期。")]),t._v(" "),s("li",[t._v("反向测试： 当前置条件或输入不符合要求时，代码能优雅地进行处理。")]),t._v(" "),s("li",[t._v("异常测试： 代码在应该抛出异常的地方正确地抛出异常。"),s("br"),t._v(" "),s("a",{attrs:{href:"https://jestjs.io/docs/en/getting-started",target:"_blank",rel:"noopener noreferrer"}},[t._v("jest官网"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("import { PbxAPI } from '../entity/pbx';\nimport { transformToUse } from '../adapters/pbx';\n\ntest('测试构建函数对数据的限制', ()=> {\n    const pbxWrong = new PbxAPI(Object.create({id:''})).params;\n    expect(pbxWrong).toEqual({username:'',code:''});\n    const pbxRight = new PbxAPI().params;\n    expect(pbxRight).toEqual({username:'',code:''});\n})\ntest('测试接口转换的结果', ()=> {\n    const data =  transformToUse({id:'xxx'});\n    expect(data).toEqual({username:'',code:''});\n})\n")])])]),s("p",[t._v("其实最后会发现，最好写测试的就是无副作用的函数，只需要考虑，输入，输出。")]),t._v(" "),s("h2",{attrs:{id:"typescript-运用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#typescript-运用"}},[t._v("#")]),t._v(" Typescript 运用")]),t._v(" "),s("p",[t._v("1.interface ,type\n使用接口来确保类拥有的指定结构，或者约束对象。"),s("br"),t._v("\n接口好比一个协议，当我们签署它的时候，必须遵守他的规则。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("interface ChinaMobile {\n    name: string;\n    website: string;\n}\ninterface ChinaMobileList {\n    // 动态属性\n    [phone: string]: ChinaMobile\n}\n")])])]),s("p",[t._v("2.enum"),s("br"),t._v("\n旧版：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const typeMach = {\n    image: 'browse_original_image',\n    file: 'down_file'\n}\n")])])]),s("p",[t._v("改版：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("enum typeMach {\n    image = 'browse_original_image',\n    file = 'down_file'\n}\n")])])]),s("p",[t._v("3.class,extends"),s("br"),t._v("\n在 .jsx 文件里，泛型可能会被当做 jsx 标签")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const toArray = <T>(element: T) => [element]; // Error in .jsx file.  \n")])])]),s("p",[t._v("修改方式")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const toArray = <T extends {}>(element: T) => [element]; // No errors.  \n")])])]),s("p",[t._v("4.namespace"),s("br"),t._v("\n命名空间，又称内部模块，用于组织一些具有某些内在联系的特性和对象，使代码结构更清晰。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("单例模式  \nnamespace Singleton {\n  export function someMethod() {}\n}\nSingleton.someMethod();\n")])])]),s("p",[t._v("5.decorators (装饰者模式+切面编程,reflect-metadata)")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('tsconfig.json\ncompilerOptions:{\n"experimentalDecorators": true\n}\n')])])]),s("p",[t._v("面向切面编程主要用于抽离与核心业务逻辑无关的功能，如日志统计、埋点、异常处理等等，"),s("br"),t._v("\n可以提高业务模块功能的纯净度与被分离模块的复用性。"),s("br"),t._v("\n装饰器用来为元素添加一些额外的逻辑或者元数据。\n装饰器：类，属性，方法，参数"),s("br"),t._v("\n类装饰器：接受一个类构造函数作为参数的函数"),s("br"),t._v("\n方法装饰器：接受属性的对象，属性名和一个可选的参数"),s("br"),t._v("\n属性装饰器： 接受属性的对象和属性的属性名"),s("br"),t._v("\n参数装饰器： 接受被装饰参数的方法的对象，方法的名字和参数在参数列表中的索引。"),s("br"),t._v("\nreflect-metadata：反射元数据 API"),s("br"),t._v("\n元数据是指程序本身的信息数据，元数据存储在程序集中;\n反射就是在运行时动态获取一个对象的一切信息：方法/属性等等。"),s("br"),t._v("\n参数的提交的各种处理，校验也可以用这种方式")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("6.泛型 T ，允许使用的时候定义类型(通用函数的考虑)   \n")])])]),s("p",[t._v("7.Omit\n有时候我们需要复用一个类型，"),s("br"),t._v("\n但是又不需要此类型内的全部属性，"),s("br"),t._v("\n因此需要剔除某些属性 -- Omit")]),t._v(" "),s("h2",{attrs:{id:"定制化构想"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定制化构想"}},[t._v("#")]),t._v(" 定制化构想")]),t._v(" "),s("p",[t._v("目标："),s("br"),t._v("\n1.减少if"),s("br"),t._v("\n2.不用后端配合"),s("br"),t._v("\n思路："),s("br"),t._v("\n利用国际key在当前模块相对唯一，用脚本依据源码生成一份Map文件，并把"),s("br"),t._v("\n把flag(目录+国际key+标签)生成自定义节点，去管理页面元素。"),s("br"),t._v("\n提供管理界面操作页面元素，更新Map文件之后重新执行打包运行，生成定制的代码。"),s("br"),t._v("\n如果不是简单的元素有无差异，而是功能上的不同，提供差异模块替换的可选。")]),t._v(" "),s("p",[t._v("在使用webcomponet之前需要先安装")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('npm install babel-plugin-transform-custom-element-classes\n.babelrc\n"plugins": [\n    "transform-runtime",\n    "transform-custom-element-classes"\n],\n')])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomClose")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HTMLElement")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    triple"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ripple'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("triple "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mouseover'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toggleRipple")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toggleRipple")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("triple"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" div "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("classList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ripple'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("triple "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("triple"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customElements"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'nb-close'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CustomClose"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("nb-close")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("cursor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pointer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px solid red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-radius")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".ripple")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px solid red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" inline-block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 15px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 15px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("line-height")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 12px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-radius")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("自定义loader，用于去正则匹配生成节点")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("source")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" source"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\<template\\>[\\s\\S]*\\<\\/template\\>")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("gmi")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("it")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" it"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("(\\{\\{\\$t\\(.*\\)\\}\\})")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("g")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<nb-close>$1</nb-close>'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" source"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\<template\\>([\\s\\S]*)\\<\\/template\\>")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-flags"}},[t._v("gmi")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" source"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nwebpack 的配置修改      \n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.vue$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("loader")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-loader'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" vueLoaderConfig\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("loader")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./loader.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        \n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),s("h2",{attrs:{id:"领域驱动设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#领域驱动设计"}},[t._v("#")]),t._v(" 领域驱动设计")]),t._v(" "),s("p",[t._v("首先DDD，无关技术，而是理解，发现业务价值。"),s("br"),t._v("\nDDD关注的是业务战略，业务战略的发展方向。"),s("br"),t._v("\n开发者不应该只是热衷于技术，而应该将眼界放得更宽。"),s("br"),t._v("\n不管使用什么技术，我们的目的都是提供业务价值。"),s("br"),t._v("\n而业务价值最直观的就是用户体验。"),s("br"),t._v("\nDDD的开发步骤和测试驱动开发的唯一区别是："),s("br"),t._v("\n‘精通业务’的人（目前这个角色的既定于产品，测试），"),s("br"),t._v("\n可以通过阅读测试代码来检验领域对象是否满足业务需求。"),s("br"),t._v("\n那么测试代码就需要有一定的业务表达力。\n这种表达力就需要一种‘通用性语言’的制定，这里依旧是个问号。")])])}),[],!1,null,null,null);s.default=e.exports}}]);