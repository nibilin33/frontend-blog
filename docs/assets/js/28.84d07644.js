(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{200:function(t,n,s){"use strict";s.r(n);var a=s(0),e=Object(a.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"èµ·æ­¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#èµ·æ­¥","aria-hidden":"true"}},[t._v("#")]),t._v(" èµ·æ­¥")]),t._v(" "),s("p",[t._v("å¾®ä¿¡ï¼šwxml"),s("br"),t._v("\næ”¯ä»˜å®ï¼šaxml"),s("br"),t._v("\nXML Parser"),s("br"),t._v("\næ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æœ‰å†…å»ºçš„ XML è§£æå™¨ã€‚"),s("br"),t._v("\nXML è§£æå™¨æŠŠ XML æ–‡æ¡£è½¬æ¢ä¸º XML DOM å¯¹è±¡,å°±å¯é€šè¿‡ JavaScript æ“ä½œçš„å¯¹è±¡ã€‚"),s("br"),t._v("\né€šè¿‡ä½¿ç”¨ XSLTï¼Œå¯ä»¥æŠŠ XML æ–‡æ¡£è½¬æ¢æˆ HTML æ ¼å¼ã€‚")]),t._v(" "),s("h2",{attrs:{id:"åŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŸç†","aria-hidden":"true"}},[t._v("#")]),t._v(" åŸç†")]),t._v(" "),s("p",[t._v("å°ç¨‹åºæœ¬è´¨å°±æ˜¯ä¸€ä¸ªå•é¡µé¢åº”ç”¨ï¼Œæ‰€æœ‰çš„é¡µé¢æ¸²æŸ“å’Œäº‹ä»¶å¤„ç†ï¼Œ"),s("br"),t._v("\néƒ½åœ¨ä¸€ä¸ªé¡µé¢å†…è¿›è¡Œï¼Œä½†åˆå¯ä»¥é€šè¿‡å¾®ä¿¡å®¢æˆ·ç«¯è°ƒç”¨åŸç”Ÿçš„å„ç§æ¥å£ï¼›"),s("br"),t._v("\nå®ƒçš„æ¶æ„ï¼Œæ˜¯æ•°æ®é©±åŠ¨çš„æ¶æ„æ¨¡å¼ï¼Œå®ƒçš„UIå’Œæ•°æ®æ˜¯åˆ†ç¦»çš„ï¼Œæ‰€æœ‰çš„é¡µé¢æ›´æ–°ï¼Œéƒ½éœ€è¦é€šè¿‡å¯¹æ•°æ®çš„æ›´æ”¹æ¥å®ç°ï¼›"),s("br"),t._v("\nå°ç¨‹åºåŠŸèƒ½åˆ†ä¸ºwebviewå’ŒAPPserviceï¼Œwebviewä¸»è¦ç”¨æ¥å±•ç¤ºUIï¼Œ\nappserviceç”¨æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®åŠæ¥å£è°ƒç”¨ã€‚"),s("br"),t._v("\nå®ƒä»¬åœ¨ä¸¤ä¸ªè¿›ç¨‹ä¸­è¿›è¡Œï¼Œé€šè¿‡ç³»ç»Ÿå±‚JSBridgeå®ç°é€šä¿¡ï¼Œå®ç°UIçš„æ¸²æŸ“ã€äº‹ä»¶å¤„ç†ã€‚\nä¸ç°æœ‰å‰ç«¯å¼€å‘çš„åŒºåˆ«ï¼š"),s("br"),t._v("\nJavaScriptçš„ä»£ç æ˜¯è¿è¡Œåœ¨å¾®ä¿¡APPä¸­çš„ï¼Œ"),s("br"),t._v("\nâ— ä¸å…è®¸å¼€å‘è€…æŠŠé¡µé¢è·³è½¬åˆ°å…¶ä»–åœ¨çº¿ç½‘é¡µ"),s("br"),t._v("\nâ— ä¸å…è®¸å¼€å‘è€…ç›´æ¥è®¿é—®DOM"),s("br"),t._v("\nâ— ä¸å…è®¸å¼€å‘è€…éšæ„ä½¿ç”¨windowä¸Šçš„æŸäº›æœªçŸ¥çš„å¯èƒ½æœ‰å±é™©çš„API"),s("br"),t._v("\nå› æ­¤ä¸€äº›h5æŠ€æœ¯çš„åº”ç”¨éœ€è¦å¾®ä¿¡APPæä¾›å¯¹åº”çš„APIæ”¯æŒï¼›")]),t._v(" "),s("h2",{attrs:{id:"é‡åˆ°çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‡åˆ°çš„é—®é¢˜","aria-hidden":"true"}},[t._v("#")]),t._v(" é‡åˆ°çš„é—®é¢˜")]),t._v(" "),s("ol",[s("li",[t._v("async,await è¯­æ³•æŠ¥é”™")])]),t._v(" "),s("p",[t._v("è¯¦æƒ…->æœ¬åœ°è®¾ç½®->ES6è½¬ES5é€‰é¡¹å»æ‰")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("canvas ç»˜åˆ¶æœ¬åœ°å›¾ç‰‡")])]),t._v(" "),s("p",[t._v("å®˜ç½‘åªæåˆ°ç½‘ç»œå›¾ç‰‡è¦å…ˆä¸‹è½½ï¼Œä½†æˆ‘éœ€è¦çš„æ˜¯ç»˜åˆ¶æœ¬åœ°å›¾ç‰‡=-=ï¼Œapiä¸Šä¹Ÿæ²¡æœ‰"),s("br"),t._v("\nçœ‹åˆ°å¾ˆæ˜ç¡®çš„ç”¨æ³•, æ‰¾äº†ä¸€ä¸‹å‘ç°å¯ä»¥ç”¨createImage")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("export const getImage = source => {\n  return new Promise(async (resolve, reject) => {\n    //åˆ›å»ºå›¾ç‰‡å¯¹è±¡\n    const canvas = await getCanvasById('#games');\n    let img = canvas.createImage();\n    img.src = source;\n    img.onload = () =>{\n        resolve(img);\n    }\n  });\n};\n\nasync draw() {\n    if(!this.img) {\n        this.img = await getImage(bg);\n    }\n    this.context.drawImage(this.img,-this.x,0,this.width,this.height);\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("çœŸæœºè°ƒè¯•HTMLCanvasView is not defined")])]),t._v(" "),s("p",[t._v("è®©äººç»æœ›çš„ï¼Œå·¥å…·é‡Œé¢éƒ½èƒ½è¿è¡Œï¼Œæ”¾åˆ°æ‰‹æœºå¼€å§‹æŠ¥é”™ã€‚\næœ€ååœ¨å®˜ç½‘æ‰¾åˆ°ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯canvasæœ€æ–°çš„æ¥å£å†™æ³•...\nçœŸæœºè¿˜ä¸æ”¯æŒğŸ™‰çœŸçš„æ˜¯è®©äººç»æœ›...")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("const ctx =  wx.createCanvasContext('games');\nctx.drawImage(\n      this.img,\n      this.x,\n      this.y,\n      this.birdHeight,\n      this.birdWidth\n);\nctx.draw(true);\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("æ”¹æˆæ—§çš„apiçš„å†™æ³•ï¼Œåœ¨æ¨¡æ‹Ÿå™¨ä¸Šä¼šä¸€é—ªä¸€é—ªçš„ï¼ŒçœŸæœºä¸Šè™½ç„¶å¯ä»¥æ¸²æŸ“å‡ºæ¥äº†ï¼Œä½†æ˜¯å¡é¡¿å¾—å¯æ€•...\nè€Œä¸”åƒç´ è¿˜å¾ˆæ¨¡ç³ŠğŸ™‰\næœ€åå‘ç°ï¼Œç”¨web-viewæ¯”åŸç”Ÿapiæµç•…å¤šäº†ğŸ™‰")]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("ä¸ªäººè´¦å·å‘å¸ƒçš„ä¸æ”¯æŒweb-viewçš„ä½¿ç”¨...ğŸ™‰")])]),t._v(" "),s("p",[t._v("è¢«è¿«åˆå»è¯•å°æ¸¸æˆé‚£ä¸€å¥—... ğŸ™‰")]),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[t._v("æœåŠ¡å™¨æ›´æ–°ï¼Œweb-view å†…å®¹æ²¡æœ‰æ›´æ–°"),s("br"),t._v("\næ¸…é™¤ç¼“å­˜ï¼šåœ¨srcä¸ŠåŠ æ—¶é—´æˆ³å‚æ•°")])]),t._v(" "),s("h2",{attrs:{id:"canvas-æ€§èƒ½å·®å¼‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#canvas-æ€§èƒ½å·®å¼‚","aria-hidden":"true"}},[t._v("#")]),t._v(" canvas æ€§èƒ½å·®å¼‚")]),t._v(" "),s("h4",{attrs:{id:"ä¸åŒåº•å±‚çš„web-viewï¼Œcanvas"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸åŒåº•å±‚çš„web-viewï¼Œcanvas","aria-hidden":"true"}},[t._v("#")]),t._v(" ä¸åŒåº•å±‚çš„web-viewï¼Œcanvas")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ç¯å¢ƒ")]),t._v(" "),s("th",[t._v("é€»è¾‘å±‚")]),t._v(" "),s("th",[t._v("è§†å›¾å±‚")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("IOS")]),t._v(" "),s("td",[t._v("JSCore")]),t._v(" "),s("td",[t._v("WKWebView")])]),t._v(" "),s("tr",[s("td",[t._v("Android")]),t._v(" "),s("td",[t._v("V8")]),t._v(" "),s("td",[t._v("Chrome å†…æ ¸")])]),t._v(" "),s("tr",[s("td",[t._v("æ¨¡æ‹Ÿå™¨")]),t._v(" "),s("td",[t._v("NW.js")]),t._v(" "),s("td",[t._v("Chromium Webview")])])])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://source.chromium.org/chromium/chromium/src/+/master:?originalUrl=https:%2F%2Fcs.chromium.org%2F",target:"_blank",rel:"noopener noreferrer"}},[t._v("Chromium åœ¨çº¿æºç æœç´¢"),s("OutboundLink")],1),t._v(" ï¼ˆéœ€è¦ç¿»å¢™ï¼‰"),s("br"),t._v(" "),s("a",{attrs:{href:"https://github.com/nibilin33/chromium",target:"_blank",rel:"noopener noreferrer"}},[t._v("Chromium æºç "),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://github.com/nibilin33/webkit",target:"_blank",rel:"noopener noreferrer"}},[t._v("webkitæºç "),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://github.com/nibilin33/v8",target:"_blank",rel:"noopener noreferrer"}},[t._v("v8æºç "),s("OutboundLink")],1),s("br"),t._v(" "),s("a",{attrs:{href:"https://docs.google.com/document/d/11T2CRex9hXxoJwbYqVQ32yIPMh0uouUZLdyrtmMoL44/edit?ts=56f27d9d#heading=h.6jz9dj3bnr8t",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ignitionï¼šV8è§£é‡Šå™¨"),s("OutboundLink")],1),s("br"),t._v("\nå¯ä»¥åˆ©ç”¨æœåŠ¡å™¨å»ä¸‹è½½ï¼Œç„¶åå†ä»æœåŠ¡å™¨ä¸Šæ‹‰ä¸‹æ¥ï¼Œç›´æ¥ä»githubä¸Šé¢æ‹‰å–å¤ªæ…¢äº†ï¼Œ"),s("br"),t._v("\nè€Œä¸”ä¸€ç›´ä¸­æ–­å¤±è´¥ï¼Œæ¯•ç«Ÿgithubçš„èŠ‚ç‚¹ä¸åœ¨å›½å†…ã€‚")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("wget https://github.com/nibilin33/webkit/archive/master.zip\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("strong",[t._v("1. canvas åœ¨webkitçš„æºæ–‡ä»¶ç›®å½•Source/WebCore/html/canvas")]),s("br"),t._v("\nä»æ–‡ä»¶åèƒ½çœ‹å‡ºcanvasContext åˆ†ä¸º2Dç±»å‹å’Œé2Dï¼Œ2Dç±»å‹æœ‰å¼€å¯GPUåŠ é€Ÿã€‚")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[s("strong",[t._v("é—®é¢˜çš„ä»£ç ï¼š")]),s("br"),t._v("\ncreateCanvasContext ä¸æ˜¯2Dç±»å‹ï¼Œcanvasæºç é‡Œé¢æ˜¯é»˜è®¤å…³é—­GPUçš„ï¼Œæ‰€ä»¥æ•ˆæœå·®å¾ˆå¤šã€‚"),s("br"),t._v("\nè€Œåœ¨web-viewé‡Œé¢æ˜¯ä½¿ç”¨2Dç±»å‹")])]),t._v(" "),s("p",[s("strong",[t._v("2. canvas åœ¨Chromiumçš„æºæ–‡ä»¶ç›®å½•/skia")]),s("br"),t._v("\nskia å›¾å½¢æ¸²æŸ“å¼•æ“å…¶é€Ÿåº¦ä¸GPUæ¸²æŸ“ä¸ç›¸ä¸Šä¸‹")]),t._v(" "),s("p",[s("strong",[t._v("3. android web-view åœ¨Chromiumçš„æºæ–‡ä»¶ç›®å½•/android_webview")]),t._v("\nandroid_webview/renderer/aw_render_view_ext.cc")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('#include "android_webview/renderer/aw_render_view_ext.h"\n#include "android_webview/common/render_view_messages.h"\n#include "content/public/renderer/render_frame.h"\n#include "content/public/renderer/render_view.h"\n#include "third_party/blink/public/web/web_local_frame.h"\n#include "third_party/blink/public/web/web_view.h"\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("å¯ä»¥çœ‹å‡ºæ˜¯ä½¿ç”¨blinkä½œä¸ºæ¸²æŸ“å¼•æ“"),s("br"),t._v("\nBlinkåªæ˜¯Webkitçš„ä¸€ä¸ªåˆ†æ”¯ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("4. iOS åœ¨Chromiumçš„æºæ–‡ä»¶ç›®å½•/ios/web_view")]),s("br"),t._v("\nios/web_view/public/cwv_web_view.h")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("#import <UIKit/UIKit.h>\n#import <WebKit/WebKit.h>\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("å¯ä»¥çœ‹å‡ºæ˜¯ä½¿ç”¨webkitä½œä¸ºæ¸²æŸ“å¼•æ“ã€‚")]),t._v(" "),s("p",[s("em",[s("strong",[t._v("ä»æ¸²æŸ“å¼•æ“æ€§èƒ½è§’åº¦çœ‹ï¼šå¾®ä¿¡çš„canvaså…ƒç´ ï¼Œå¼€æ”¾2D typeï¼Œåˆ©ç”¨GPUåŠ é€Ÿä¼˜åŒ–æ¸²æŸ“æ•ˆæœ")])]),s("br"),t._v(" "),s("em",[s("strong",[t._v("ä¹Ÿå¯ä»¥è¾¾åˆ°ç”¨ç»ˆç«¯åŸç”Ÿçš„å›¾å½¢æ¸²æŸ“åº“çš„æ•ˆæœ")])])]),t._v(" "),s("h4",{attrs:{id:"å°æ¸¸æˆcanvasä¼˜åŒ–ç‚¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å°æ¸¸æˆcanvasä¼˜åŒ–ç‚¹","aria-hidden":"true"}},[t._v("#")]),t._v(" å°æ¸¸æˆcanvasä¼˜åŒ–ç‚¹")]),t._v(" "),s("p",[t._v("å°æ¸¸æˆå¼•å…¥ä¸€ä¸ªadapter.js")]),t._v(" "),s("ol",[s("li",[t._v("æ ¸å¿ƒcanvaså¯¹è±¡ä»£ç ")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Canvas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" canvas "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createCanvas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t    canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'canvas'")]),t._v("\n\t    canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("_HTMLElement2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("default")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'canvas'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" _getContext "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getContext\n\t    canvas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getBoundingClientRect")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ret "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t            top"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t            left"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t            width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerWidth"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t            height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHeight\n\t        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ret\n\t    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" canvas\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[t._v("æœ‰äººæåˆ°å°æ¸¸æˆæ˜¯è°ƒç”¨Native canvasï¼Œæˆ‘çœ‹äº†ä¸€ä¸‹å°±æ˜¯skiaè¿™ä¸ªå¼•æ“ï¼Œè€Œè¿™ä¸ªå¼•æ“æˆ‘ä¸Šé¢æåˆ°äº†"),s("br"),t._v("\næ¸²æŸ“ä¼˜åŒ–çš„é€Ÿåº¦å’ŒGPUå·®ä¸å¤šã€‚"),s("br"),t._v("\ncreateCanvas æ˜¯åˆ›å»ºä¸€ä¸ªç”»å¸ƒå¯¹è±¡ã€‚é¦–æ¬¡è°ƒç”¨åˆ›å»ºçš„æ˜¯æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„ç”»å¸ƒï¼Œ\nä¹‹åè°ƒç”¨åˆ›å»ºçš„éƒ½æ˜¯ç¦»å±ç”»å¸ƒã€‚\nç¦»å±æ¸²æŸ“èƒ½ä¼˜åŒ–æ¸²æŸ“çš„æµç•…ï¼Œå°±æ˜¯è´¹æ€§èƒ½ï¼Œéœ€è¦å¤šå¼€ä¸€æ¡é€šé“ã€‚")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("äº‹ä»¶")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onTouchStart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("touchEventHandlerFactory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'touchstart'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onTouchMove")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("touchEventHandlerFactory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'touchmove'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onTouchEnd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("touchEventHandlerFactory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'touchend'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onTouchCancel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("touchEventHandlerFactory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'touchcancel'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("å°ç¨‹åºäº‹ä»¶æ˜¯ç»‘å®šåœ¨ç»„ä»¶ä¸Šï¼Œå½“è¾¾åˆ°è§¦å‘äº‹ä»¶ï¼Œå†æ‰§è¡Œé€»è¾‘å±‚ä¸­å¯¹åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚"),s("br"),t._v("\nå°æ¸¸æˆæ˜¯ç›´æ¥æ‰§è¡Œé€»è¾‘å±‚çš„äº‹ä»¶ã€‚ä»æ¶æ„å¯ä»¥çŸ¥é“ï¼Œè¿™æ ·å°‘äº†ä¸€å±‚è¿›ç¨‹é€šä¿¡äº¤æµã€‚\njsonæ ¼å¼çš„æ•°æ®ä¼ é€’å’Œè§£ææ¯”è¾ƒè´¹æ€§èƒ½ï¼Œå¦‚æœé¢‘ç¹è°ƒç”¨å¾ˆå¯èƒ½æŸè€—è¿‡å¤šæ€§èƒ½ï¼Œè¿›è€Œå½±å“ç”¨æˆ·ä½“éªŒã€‚"),s("br"),t._v("\nä¸ºä»€ä¹ˆæ•°æ®ä¼ é€’å’Œè§£æè´¹æ€§èƒ½ï¼Ÿæˆ‘æ‰å‘ç°IOSï¼Œandroid è¿›ç¨‹é€šä¿¡æ˜¯æ²¡æ³•é€šè¿‡å…±äº«å†…å­˜å®ç°ã€‚"),s("br"),t._v("\né‚£åºåˆ—åŒ–å’Œååºåˆ—åŒ–æˆä¸ºæ•°æ®äº¤æ¢çš„ç“¶é¢ˆï¼Œåºåˆ—åŒ–ååºåˆ—åŒ–æ¶‰åŠå¤§é‡I/Oæ“ä½œï¼Œ\nè¿™äº›æ“ä½œä¼šå ç”¨å¤§é‡ CPUã€‚")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",[t._v("åºåˆ—åŒ–å°†å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯è½¬æ¢ä¸ºå¯ä»¥å­˜å‚¨æˆ–ä¼ è¾“çš„å½¢å¼çš„è¿‡ç¨‹ã€‚"),s("br"),t._v("\nåœ¨åºåˆ—åŒ–æœŸé—´ï¼Œå¯¹è±¡å°†å…¶å½“å‰çŠ¶æ€å†™å…¥åˆ°ä¸´æ—¶æˆ–æŒä¹…æ€§å­˜å‚¨åŒºã€‚"),s("br"),t._v("\nä»¥åï¼Œå¯ä»¥é€šè¿‡ä»å­˜å‚¨åŒºä¸­è¯»å–æˆ–ååºåˆ—åŒ–å¯¹è±¡çš„çŠ¶æ€ï¼Œé‡æ–°åˆ›å»ºè¯¥å¯¹è±¡ã€‚"),s("br"),t._v("\nåºåˆ—åŒ–ååºåˆ—åŒ–çš„å½±å“æ•ˆæœå¯ä»¥æŸ¥çœ‹"),s("a",{attrs:{href:"https://github.com/nibilin33/vue-solution/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("11. åºåˆ—åŒ–ååºåˆ—åŒ–æ€§èƒ½å½±å“æƒ…å†µ"),s("OutboundLink")],1)])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://res.wx.qq.com/wxdoc/dist/assets/img/4-1.ad156d1c.png",alt:"æ¸²æŸ“å±‚å’Œé€»è¾‘å±‚"}})]),t._v(" "),s("h2",{attrs:{id:"æ¨¡æ‹Ÿå™¨å®ç°åˆ†æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡æ‹Ÿå™¨å®ç°åˆ†æ","aria-hidden":"true"}},[t._v("#")]),t._v(" æ¨¡æ‹Ÿå™¨å®ç°åˆ†æ")]),t._v(" "),s("p",[t._v("å¾®ä¿¡å·¥å…·çš„æºç éƒ½æ··æ·†äº†ï¼Œä¸å¥½çœ‹ï¼Œæœ‰äººå·²ç»å®ç°äº†ä¸ªåŸºæœ¬"),s("br"),t._v("\næµç¨‹ï¼Œå¯ä»¥ä½œä¸ºå‚è€ƒ"),s("a",{attrs:{href:"https://github.com/chemzqm/wept",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¨¡æ‹Ÿå™¨ WEPT"),s("OutboundLink")],1),s("br"),t._v("\næˆ–è€…å‚è€ƒ"),s("a",{attrs:{href:"https://github.com/yuan1994/wechat_web_devtools",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linuxç‰ˆweixin-devtools"),s("OutboundLink")],1),s("br"),t._v("\nè¿›è¡Œäº†è§£ã€‚")])])}),[],!1,null,null,null);n.default=e.exports}}]);