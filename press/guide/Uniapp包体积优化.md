# Uniapp 包体积优化
## 背景
随着业务频繁的需求迭代，小程序包体积上限变成了限制业务发展的一道红线，为了能够顺利将代码上传到微信开放平台，已经到了需要和业务 battle，”这个功能加到xxx不一定加得了，包体积已经快到上线“   

## 常规解决方案
- 图片等非必要静态资源上云      
- 能进子包的代码都进子包        
- 三方sdk治理       
目前也几乎做到了极致，留给业务的空间也只剩不到200KB的增长空间       
## 分包异步化       
在小程序中，不同的分包对应不同的下载单元；因此，除了非独立分包可以依赖主包外，分包之间不能互相使用自定义组件或进行 require。「分包异步化」特性将允许通过一些配置和新的接口，使部分跨分包的内容可以等待下载后异步使用，从而一定程度上解决这个限制。          
分包异步化这个功能微信已经出现三年多了，受限于uniapp的选型，这个功能一直没有支持（
详见github issues [微信小程序 分包异步化 引入 require.async 在 uniapp 报错 #3](https://github.com/dcloudio/uni-app/issues/3160)     
）。如果能支持这项功能，业务开发仅需合理的将可以异步的代码异步加载，就可以缓解部分体积负担。       

思路：      
